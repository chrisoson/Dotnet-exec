name: "dotnet-exec"
author: "Weihan Li"
description: "dotnet-exec to execute C# scripts"
inputs:
  script:
    description: 'Script to execute'
    required: true
  arguments:
    description: 'Arguments'
    required: false
    default: ""
runs:
  using: 'composite'
  steps:
    - name: Setup .NET SDK
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: |
          8.x
    - name: install dotnet-exec
      run: |
        dotnet tool install -g dotnet-execute --version 0.16.0
        export PATH="$PATH:$HOME/.dotnet/tools"
      shell: bash
    - id: dotnet-exec
      name: execute script
      run: dotnet-exec ${{ inputs.script }} --args ${{ inputs.arguments }}
      shell: bash
